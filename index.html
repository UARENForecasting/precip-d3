
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>UA Water Year</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="css/ua-web-branding.css"/>

    <link rel="stylesheet" type="text/css" href="css/style.css" media="screen">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" ></script>
<!--     <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script> -->
    <script src="js/ua-web-branding.js" type="text/javascript"></script>

     <!--[if lte IE 8]>
        <script type="text/javascript">var is_ie8_or_older = true;</script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
        <script src="js/d3.min.js"></script>
        <script src="js/graph.js"></script>
    <!--<![endif]-->

    <script type="text/javascript">
        var is_ie8_or_older = (typeof is_ie8_or_older === "undefined") ? false : true;
        console.log('is_ie8_or_older = ', is_ie8_or_older);
    </script>

    <script src="colorbrewer/colorbrewer.js"></script>
    <script src="js/scripts.js"></script>

</head>

<body>

    <div id="ua-web-branding-banner-v1" class="ua-wrapper bgDark black-grad">
		<div class="center">
			<a class="ua-home asdf" href="http://arizona.edu" title="The University of Arizona">
			  <p>The University of Arizona</p>
			</a>
		</div>
    </div>

<div id="content">
    <div id="data"></div>

    <div id="intro">
        <p>
            This plot shows the cumulative precipitation at Tucson International Airport for each year since 1951.
            The data is colored by the strength of El Nino (blue) or La Nina (red) in that year, specifically the Jan-Feb <a href="http://www.esrl.noaa.gov/psd/enso/mei/index.html">Multivariate ENSO Index (MEI)</a>.
            The Tucson water year starts on October 1 of the previous year.
            The 2016 Jan-Feb MEI is nearly certain to be greater than 2.
            The 2016 data is colored by the most recent MEI value available.
        </p>
        <h2>Tips</h2>
            <ul>
            <li>Hover your cursor over a line or a year in the table to highlight that year of data.</li>
            <li>Hover your cursor over a line to show a tooltip with data values on that date.</li>
            <li>Click on the line or the year to keep it highlighted when you move your cursor away. This can make it easier to compare a handful of specific years.</li>
            <li>Click the "Cool season," "Monsoon season," or "Full year" buttons to change date ranges. The MEI remains fixed to Jan-Feb of that water year regardless of the season selection. The season definitions are only based on the calendar, not the meteorological conditions of the year.</li>
            </ul>
        </p>
        <p>
            If your plot looks bad or doesn't load then try the <a href="images/precip_static.png">static image</a>.
            We recommend using Chrome or Safari to view this page.
            The tooltip does not work properly on many versions of Firefox.
        </p>

        <h2>Data</h2>
        <p>Precipitation data from comes from <a href="http://www.rcc-acis.org/docs_webservices.html">RCC-ACIS</a>.</p>
        <p><a href="http://www.esrl.noaa.gov/psd/enso/mei/table.html">MEI data</a> comes from <a href="http://www.esrl.noaa.gov">NOAA ESRL</a>.</p>

        <h2>Advanced usage</h2>
        <p>
           It is possible to manually control the start, end, minimum, and maximum values of the plot. To do so, you'll need to open up your browser's debugger and use the following function in your javascript console:
        </p>
        <p class="code">
        tucsonChart.arbitraryDates(startMonth, endMonth, ymin, ymax)
        </p>
        <p>
        Enter the months as integers (January = 1). The endMonth is inclusive, so enter 2 to plot all of February. The ymin and ymax parameters may be omitted. For example, to show data for only January 1 through February 28/29, and to set the y axis to 0 inches to 5 inches, use the command:
        </p>
        <p class="code">
        tucsonChart.arbitraryDates(1,2,0,5)
        </p>
        <p>
        Arbitrary stations can be plotted using the <span class="code">get_acis_data(id)</span> function.
        NCDC maintains a <a href="http://www1.ncdc.noaa.gov/pub/data/ghcn/daily/ghcnd-stations.txt">list of station identifiers</a>.
        </p>
        <p>
        These are new and relatively untested features, so you might run into problems. In the future, I hope to add controls to the page for these features, which brings us to...
        </p>
        <h2>Open source</h2>
        <p>
            The source code for this site is on <a href="https://github.com/UARENForecasting/precip-d3">GitHub</a> and released under the MIT license. This means that you can easily copy the code, play with it, contribute your improvements to this page, or use the code as the starting point or inspiration for your own tool.
            Here are some possible improvements:
            <ul>
            <li>Add sticky tooltip with total precip for selected years.</li>
            <li>Distinguish between mean and median.</li>
            <li>Add more locations.</li>
            <li>Add a control for the MEI month.</li>
            <li>Implement better support for arbitrary date ranges.</li>
            </ul>
        </p>
        <p>
            Plot inspired by Mike Crimmins' excellent <a href="http://cals.arizona.edu/climate/misc/monsoon/monsoon_summaries.html">Monsoon plots</a>
            and Ben McMahan and Mike's CLIMAS <a href="http://www.climas.arizona.edu/blog/el-niño-here…what-exactly-does-mean-arizona-and-new-mexico">blog post</a>.
        </p>
        <p>
            Some of the graphing source code used on this site was originally developed for <a href="https://sveri.uaren.org">sveri.uaren.org</a> with help from UA's <a href="https://cct.cals.arizona.edu">CALS-CCT</a> team and funding from the <a href="http://sveri.net">SVERI utilities</a>.
        </p>
        <p>The plot is made with <a href="http://d3js.org">d3js</a>.</p>
        <p>
            <a href="http://wholmgren.github.io">Will Holmgren</a><br>
            <a href="http://energy.gov/eere/education/eere-postdoctoral-research-awards">DOE EERE Postdoctoral Fellow</a><br>
            <a href="http://www.atmo.arizona.edu">Department of Atmospheric Sciences</a><br>
            <a href="http://energy.arizona.edu">Renewable Energy Network</a><br>
            <a href="http://www.arizona.edu">University of Arizona</a><br>
        </p>
    </div>

</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44713401-12', 'auto');
  ga('send', 'pageview');

</script>

</body>

</html>